# Glen Ellyn History Chatbot ğŸ¨ğŸ§ 

A local-first, open-source chatbot that answers historical questions about Glen Ellyn, Illinois â€” powered by Retrieval-Augmented Generation (RAG), Sanborn map data, curated narratives, and a locally running large language model (LLM).

---

## âœ¨ Features

* ğŸ” Ask questions like â€œWhat was at 114 Crescent Blvd in 1929?â€
* ğŸ§  Uses vector search (ChromaDB) and sentence embeddings to retrieve context
* ğŸ“– Supports both structured data (building metadata) and unstructured stories
* ğŸ¤– Runs locally using [Ollama](https://ollama.com/) + `llama3`
* ğŸ—‚ï¸ Includes biographies, stories, and town etymology in `.md` files
* ğŸ§±â€ğŸ’» Easy to extend with new content or maps â€” no cloud or API keys needed

---

## ğŸ“ Project Structure

```bash
glen-ellyn-chatbot/
â”œâ”€â”€ rag/
â”‚   â”œâ”€â”€ rag_query.py             # RAG engine + Ollama LLM interface
â”‚   â”œâ”€â”€ metadata.json            # 1929 building-level data (manually labeled)
â”‚   â”œâ”€â”€ narrative_sources.json   # Autogenerated from markdown/text
â”‚   â”œâ”€â”€ ingest_narratives.py     # Embeds narrative sources into ChromaDB
â”‚   â””â”€â”€ build_narratives_json.py # Converts raw .md/.txt files into JSON
â”‚
â”œâ”€â”€ narratives_raw/              # Raw source content (editable!)
â”‚   â”œâ”€â”€ bios/                    # Biographies of key Glen Ellyn figures
â”‚   â”œâ”€â”€ stories/                 # Anecdotes, events, interesting tales
â”‚   â””â”€â”€ etymology/               # How Glen Ellyn got its name
â”‚
â”œâ”€â”€ sanborn/                     # Historic map imagery
â”‚   â””â”€â”€ 1929/
â”‚       â””â”€â”€ map-sheet-04.png     # Sanborn map scans
â”‚
â”œâ”€â”€ ui.py                        # Gradio UI frontend
â”œâ”€â”€ requirements.txt             # Python dependencies
â”œâ”€â”€ .gitignore
â”œâ”€â”€ README.md
â”œâ”€â”€ venv/                        # Python virtual environment
```

---

## ğŸ§ª Quick Start

### 1. Clone the repo

```bash
git clone https://github.com/yourusername/glen-ellyn-chatbot.git
cd glen-ellyn-chatbot
```

### 2. Create and activate a virtual environment

```bash
python3 -m venv venv
source venv/bin/activate
```

### 3. Install dependencies

```bash
pip install --break-system-packages -r requirements.txt
```

> Or manually:
>
> ```bash
> pip install chromadb sentence-transformers requests langchain gradio
> ```

### 4. Prepare data

```bash
python rag/build_narratives_json.py     # generate narrative_sources.json
python rag/ingest_narratives.py         # embed stories into ChromaDB
```

### 5. Run the chatbot UI

```bash
python ui.py
```

---

## ğŸ‘¥ Example Questions

* â€œWhat was at 114 Crescent Blvd in 1929?â€
* â€œWho was Newton Rogers?â€
* â€œWhere did the name Glen Ellyn come from?â€
* â€œTell me a story from Glen Ellynâ€™s early daysâ€

---

## âš™ï¸ Requirements

* Python 3.8+
* [Ollama](https://ollama.com/) with the `llama3` model installed:

```bash
ollama run llama3
```

---

## ğŸ—ƒï¸ Data Sources

* ğŸ¨ 1929 Sanborn Fire Insurance Maps
* ğŸ© Manually labeled building metadata
* ğŸ“› Biographies, historical stories, etymology articles
* ğŸ” Source: Library of Congress, Glen Ellyn Historical Society, and local research

---

## ğŸš§ Future Plans

* Add support for 1940s, 1950s Sanborn maps
* Enable side-by-side building comparisons across time
* Map-tile viewer UI for spatial querying
* Expose REST API using FastAPI
* Public demo via Hugging Face Spaces or Render
* PDF/OCR pipeline for old newspaper ingestion

---

## ğŸ§‘â€âš–ï¸ License

MIT â€” this project is for historical exploration, education, and fun. No commercial use intended.

---

This README was generated by AI.

## ğŸ’¬ Contact

Questions, feedback, or ideas?
Open an issue or start a discussion â€” Iâ€™d love to hear from fellow Glen Ellyn neighbors, researchers, or devs!
