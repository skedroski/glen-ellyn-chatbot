# Glen Ellyn History Chatbot 🏨🧠

A local-first, open-source chatbot that answers historical questions about Glen Ellyn, Illinois — powered by Retrieval-Augmented Generation (RAG), Sanborn map data, curated narratives, and a locally running large language model (LLM).

---

## ✨ Features

* 🔍 Ask questions like “What was at 114 Crescent Blvd in 1929?”
* 🧠 Uses vector search (ChromaDB) and sentence embeddings to retrieve context
* 📖 Supports both structured data (building metadata) and unstructured stories
* 🤖 Runs locally using [Ollama](https://ollama.com/) + `llama3`
* 🗂️ Includes biographies, stories, and town etymology in `.md` files
* 🧱‍💻 Easy to extend with new content or maps — no cloud or API keys needed

---

## 📁 Project Structure

```bash
glen-ellyn-chatbot/
├── rag/
│   ├── rag_query.py             # RAG engine + Ollama LLM interface
│   ├── metadata.json            # 1929 building-level data (manually labeled)
│   ├── narrative_sources.json   # Autogenerated from markdown/text
│   ├── ingest_narratives.py     # Embeds narrative sources into ChromaDB
│   └── build_narratives_json.py # Converts raw .md/.txt files into JSON
│
├── narratives_raw/              # Raw source content (editable!)
│   ├── bios/                    # Biographies of key Glen Ellyn figures
│   ├── stories/                 # Anecdotes, events, interesting tales
│   └── etymology/               # How Glen Ellyn got its name
│
├── sanborn/                     # Historic map imagery
│   └── 1929/
│       └── map-sheet-04.png     # Sanborn map scans
│
├── ui.py                        # Gradio UI frontend
├── requirements.txt             # Python dependencies
├── .gitignore
├── README.md
├── venv/                        # Python virtual environment
```

---

## 🧪 Quick Start

### 1. Clone the repo

```bash
git clone https://github.com/yourusername/glen-ellyn-chatbot.git
cd glen-ellyn-chatbot
```

### 2. Create and activate a virtual environment

```bash
python3 -m venv venv
source venv/bin/activate
```

### 3. Install dependencies

```bash
pip install --break-system-packages -r requirements.txt
```

> Or manually:
>
> ```bash
> pip install chromadb sentence-transformers requests langchain gradio
> ```

### 4. Prepare data

```bash
python rag/build_narratives_json.py     # generate narrative_sources.json
python rag/ingest_narratives.py         # embed stories into ChromaDB
```

### 5. Run the chatbot UI

```bash
python ui.py
```

---

## 👥 Example Questions

* “What was at 114 Crescent Blvd in 1929?”
* “Who was Newton Rogers?”
* “Where did the name Glen Ellyn come from?”
* “Tell me a story from Glen Ellyn’s early days”

---

## ⚙️ Requirements

* Python 3.8+
* [Ollama](https://ollama.com/) with the `llama3` model installed:

```bash
ollama run llama3
```

---

## 🗃️ Data Sources

* 🏨 1929 Sanborn Fire Insurance Maps
* 🏩 Manually labeled building metadata
* 📛 Biographies, historical stories, etymology articles
* 🔎 Source: Library of Congress, Glen Ellyn Historical Society, and local research

---

## 🚧 Future Plans

* Add support for 1940s, 1950s Sanborn maps
* Enable side-by-side building comparisons across time
* Map-tile viewer UI for spatial querying
* Expose REST API using FastAPI
* Public demo via Hugging Face Spaces or Render
* PDF/OCR pipeline for old newspaper ingestion

---

## 🧑‍⚖️ License

MIT — this project is for historical exploration, education, and fun. No commercial use intended.

---

This README was generated by AI.

## 💬 Contact

Questions, feedback, or ideas?
Open an issue or start a discussion — I’d love to hear from fellow Glen Ellyn neighbors, researchers, or devs!
